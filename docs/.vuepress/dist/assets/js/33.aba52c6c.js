(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{309:function(t,r,e){"use strict";e.r(r);var n=e(0),s=Object(n.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("blockquote",[r("h2",{attrs:{id:"_8月漏洞情况"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8月漏洞情况"}},[t._v("#")]),t._v(" 8月漏洞情况")])]),t._v(" "),r("table",[r("tr",[r("td",{attrs:{align:"center"}},[t._v("学校名称")]),t._v(" "),r("td",{attrs:{align:"center"}},[r("font",{attrs:{weight:"bolder",size:"5"}},[t._v("辽宁城建")])],1)]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("漏洞描述")]),t._v(" "),r("td",[r("font",{attrs:{size:"3"}},[t._v("1.1.1.检测到目标X-Content-Type-Options响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.2.检测到目标X-XSS-Protection响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.3.检测到错误页面web应用服务器版本信息泄露")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.4.检测到目标Content-Security-Policy响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.5.检测到目标服务器启用了OPTIONS方法")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.6.检测到目标Strict-Transport-Security响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.7.检测到目标X-Permitted-Cross-Domain-Policies响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.8.检测到目标X-Download-Options响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.9.检测到目标Referrer-Policy响应头缺失")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.10.检测到目标服务器可能存在系统路径信息泄露")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v("1.1.11.点击劫持：X-Frame-Options未配置")]),t._v(" "),r("br"),r("br")],1)]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("解决方案")]),t._v(" "),r("td",[r("font",{attrs:{size:"3"}},[t._v(" 😄 nginx配置文件的server下配置：add_header 'Referrer-Policy' 'origin' ")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(' 😄 nginx配置文件的server下配置：添加 add_header X-XSS-Protection "1; mode=block" ')]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(" 😄 隐藏tomcat版本号，具体操作参考网址：https://blog.csdn.net/qq_41687670/article/details/119794291 ")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(" 😄 nginx配置文件的server下配置：添加 add_header Content-Security-Policy \"default-src 'self' data: *.xxx.com  'unsafe-inline' 'unsafe-eval' mediastream: \"; ")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(" 😄 nginx配置添加配置，限制请求方式为GET、POST ")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(' 😄 nginx配置文件的server下配置：添加 add_header Strict-Transport-Security "max-age=63072000; includeSubdomains; preload";')]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(' 😄 nginx配置文件的server下配置：添加 add_header X-Permitted-Cross-Domain-Policies  "master-only";')]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(' 😄 nginx配置文件的server下配置：添加 add_header X-Download-Options "noopen" always;')]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(" 😄 nginx配置文件的server下配置：添加 add_header 'Referrer-Policy' 'origin';")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(" 😄 该路径为前端React路由，与服务器路径未有任何关系(暂未提供解决方案)。")]),t._v(" "),r("br"),r("br"),t._v(" "),r("font",{attrs:{size:"3"}},[t._v(" 😄 nginx配置文件的server下配置：添加 add_header X-Frame-Options SAMEORIGIN;")]),t._v(" "),r("br"),r("br")],1)]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("解决情况")]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v("已解决")])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("时间")]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v("2022-8-5")])])]),t._v(" "),r("blockquote",[r("h3",{attrs:{id:"完整的nginx-header配置如下"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#完整的nginx-header配置如下"}},[t._v("#")]),t._v(" 完整的Nginx header配置如下：")])]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("    server {\n\n        add_header X-Content-Type-Options nosniff;\n        add_header 'Referrer-Policy' 'origin';\n        add_header X-Download-Options \"noopen\" always;\n        add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\n        add_header X-Permitted-Cross-Domain-Policies  \"master-only\";\n        add_header X-Frame-Options SAMEORIGIN;\n        add_header Content-Security-Policy \"default-src 'self' data: *.xxx.com  'unsafe-inline' 'unsafe-eval' mediastream: \";\n        add_header X-Content-Type-Options: nosniff;\n        add_header X-XSS-Protection \"1; mode=block\";\n\n        if ($request_method !~* GET|POST|HEAD) {\n                return 403;\n        }\n\n    }\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br")])]),r("p",[t._v("🎉\n💯")]),t._v(" "),r("table",[r("tr",[r("td",{attrs:{align:"center"}},[t._v("学校名称")]),t._v(" "),r("td",{attrs:{align:"center"}},[r("font",{attrs:{weight:"bolder",size:"5"}},[t._v("深职院")])],1)]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("漏洞描述")]),t._v(" "),r("td",[t._v("\n           1、OpenSSH 命令注入漏洞(CVE-2020-15778) "),r("br"),t._v("\n           2、OpenSSH 安全漏洞(CVE-2017-15906) "),r("br"),t._v("\n           3、OpenSSH 用户枚举漏洞(CVE-2018-15919) "),r("br"),t._v("\n           4、OpenSSH 用户枚举漏洞(CVE-2018-15473) "),r("br")])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("解决方案")]),t._v(" "),r("td",[r("span",[t._v("\n            解决方式：\n            "),r("br"),t._v("   注意安装升级openssh时需要关闭SELinux，否则退出后无法登陆\n            "),r("br"),t._v("   临时关闭：setenforce 0\n            "),r("br"),t._v("   永久关闭：sed -i 's/enforcing/disabled/g' /etc/sysconfig/selinux废弃\n            "),r("br"),t._v("   sed -i 's/enforcing/disabled/g' /etc/selinux/config\n            "),r("br"),t._v("1、下载相关依赖包\n            "),r("br"),t._v("    yum install -y gcc openssl-devel pam-devel "),r("br"),t._v("rpm-build\n            "),r("br"),t._v("2、下载安装包\n            "),r("br"),t._v("    wget http://ftp.openbsd.org/pub/OpenBSD/"),r("br"),t._v("OpenSSH/portable/openssh-8.4p1.tar.gz\n            "),r("br"),t._v("3、解压openssh安装包\n            "),r("br"),t._v("    tar -zxvf openssh-8.4p1.tar.gz\n            "),r("br"),t._v("4、备份原版本的ssh\n            "),r("br"),t._v("    mv /etc/ssh /etc/ssh_bak\n            "),r("br"),t._v("5、编译安装\n            "),r("br"),t._v("    cd openssh-8.4p1/\n            "),r("br"),t._v("   ./configure --prefix=/usr --sysconfdir=/etc/ ssh \n            "),r("br"),t._v("    --with-md5-passwords \n            "),r("br"),t._v("    --with-pam --with-tcp-wrappers  \n            "),r("br"),t._v("    --with-ssl-dir=/usr/local/openssl \n            "),r("br"),t._v("    --without-hardening\n            "),r("br"),t._v("    make && make install\n            "),r("br"),t._v("6、安装完成，执行配置\n            "),r("br"),t._v("    cp contrib/redhat/sshd.init /etc/init.d/sshd\n            "),r("br"),t._v("    chkconfig --add sshd\n            "),r("br"),t._v("    chkconfig sshd on\n            "),r("br"),t._v("    chkconfig --list|grep sshd\n            "),r("br"),t._v('    sed -i "32a PermitRootLogin yes" /etc/ssh/'),r("br"),t._v("sshd_config\n            "),r("br"),t._v("    //先不执行，如果重启慢就执行。mv  /usr/lib/"),r("br"),t._v("systemd/   system/sshd.service  /etc/ssh_bak1\n            "),r("br"),t._v("    //先不执行，如果重启慢就执行。systemctl "),r("br"),t._v("daemon-reload\n            "),r("br"),t._v("    先执行这条。systemctl restart sshd\n            "),r("br"),t._v("7、查看版本\n            "),r("br"),t._v("    ssh -V\n            ")])])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("解决情况")]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v("已解决")])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("时间")]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v("2022-8-26")])])]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),r("p",[t._v("安装ssh时指定ssl的路径需要根据自己系统中所在路径来配置")])]),t._v(" "),r("p",[t._v("🎉\n💯")]),t._v(" "),r("table",[r("tr",[r("td",{attrs:{align:"center"}},[t._v("学校名称")]),t._v(" "),r("td",{attrs:{align:"center"}},[r("font",{attrs:{weight:"bolder",size:"5"}},[t._v("乐山职业技术学院")])],1)]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("漏洞描述")]),t._v(" "),r("td",[t._v("\n            1.1.1【低危】前端源码泄露 "),r("br"),t._v("\n            1.1.2【高危】弱口令 "),r("br"),t._v("\n            1.1.3【低危】用户名枚举 "),r("br")])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("解决方案")]),t._v(" "),r("td",[t._v("\n            1、临时删除map文件\n            2、删除测试账号\n            3、用户名或账号错误都是提示 ‘登录失败’\n        ")])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("解决情况")]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v("已解决")])]),t._v(" "),r("tr",[r("td",{attrs:{align:"center"}},[t._v("时间")]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v("2022-8-29")])])])])}),[],!1,null,null,null);r.default=s.exports}}]);